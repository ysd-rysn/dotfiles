#!/bin/bash

# Install global npm packages
# This script runs when global-packages.json changes

set -euo pipefail

# Delegate to external script for actual installation
INSTALL_SCRIPT="{{ .paths.scripts_dir }}/common/install-npm-global-packages.sh"

if [ -f "$INSTALL_SCRIPT" ]; then
    "$INSTALL_SCRIPT"
else
    echo "ERROR: Installation script not found: $INSTALL_SCRIPT"
    exit 1
fi

# Hash of the packages file to detect changes
# global-packages.json hash: {{ include ".config/npm/global-packages.json" | sha256sum }}
